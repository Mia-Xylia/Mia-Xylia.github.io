{
    "version": "https://jsonfeed.org/version/1",
    "title": "Hexo • All posts by \"教程\" tag",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2025/03/23/computer-science/crawler/1/",
            "url": "http://example.com/2025/03/23/computer-science/crawler/1/",
            "title": "爬取今日菜价：2025.3.23云南蔬菜市场综合菜价",
            "date_published": "2025-03-22T16:00:00.000Z",
            "content_html": "<h1 id=\"背景\"><a class=\"markdownIt-Anchor\" href=\"#背景\">#</a> 背景</h1>\n<p>在实践哔哩哔哩 Python 研究社的爬虫教程时，Bs4 解析的教学需要用到北京新天地数据，但因为网站改变，数据不能适用于课程，所以找了另外一个网址来进行练习</p>\n<h1 id=\"课程信息与网站信息\"><a class=\"markdownIt-Anchor\" href=\"#课程信息与网站信息\">#</a> 课程信息与网站信息</h1>\n<div class=\"links\"><div class=\"item\" title=\"Python研究社\" style=\"--block-color:#e9546b;\"><span class=\"exturl image\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXVONHkxVzdEdT9zcG1faWRfZnJvbT0zMzMuNzg4LnBsYXllci5zd2l0Y2gmdmRfc291cmNlPTIxYTg4NDRlZGE0MTE4N2M2ZTIxYzhmYTdjNTNiZThlJnA9MzA=\" data-background-image=\"https://images.sj33.cn/uploads/202005/7-200525101140K8.png\"></span>\n          <div class=\"info\">\n          <span class=\"exturl title\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXVONHkxVzdEdT9zcG1faWRfZnJvbT0zMzMuNzg4LnBsYXllci5zd2l0Y2gmdmRfc291cmNlPTIxYTg4NDRlZGE0MTE4N2M2ZTIxYzhmYTdjNTNiZThlJnA9MzA=\">Bs4解析入门</span>\n          <p class=\"desc\">爬虫教程</p>\n          </div></div></div>\n<div class=\"links\"><div class=\"item\" title=\"今日菜价\" style=\"--block-color:#e9546b;\"><span class=\"exturl image\" data-url=\"aHR0cDovL3pob25nZGFwZW5nLmNvbS9zaHVjYWlqaWFnZS8xODgyLmh0bWw=\" data-background-image=\"https://bpic.588ku.com/back_origin_min_pic/19/11/12/29a1c1f87580d2b061e113bf231e2973.jpg\"></span>\n          <div class=\"info\">\n          <span class=\"exturl title\" data-url=\"aHR0cDovL3pob25nZGFwZW5nLmNvbS9zaHVjYWlqaWFnZS8xODgyLmh0bWw=\">今日菜价</span>\n          <p class=\"desc\">蔬菜批发市场价格行情</p>\n          </div></div></div>\n<h1 id=\"代码\"><a class=\"markdownIt-Anchor\" href=\"#代码\">#</a> 代码</h1>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">```Python</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 安装</span></span><br><span class=\"line\"><span class=\"comment\"># pip install bs4 -i 清华</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">import</span> <span class=\"string\">requests</span></span><br><span class=\"line\"><span class=\"string\">from</span> <span class=\"string\">bs4</span> <span class=\"string\">import</span> <span class=\"string\">BeautifulSoup</span></span><br><span class=\"line\"><span class=\"string\">import</span> <span class=\"string\">csv</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">url</span> <span class=\"string\">=</span> <span class=\"string\">&quot;http://zhongdapeng.com/shucaijiage/1882.html&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">main</span> <span class=\"string\">=</span> <span class=\"string\">requests.get(url,</span> <span class=\"string\">timeout=10)</span></span><br><span class=\"line\"><span class=\"string\">main.encoding</span> <span class=\"string\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span></span><br><span class=\"line\"><span class=\"string\">main_page</span> <span class=\"string\">=</span> <span class=\"string\">main.text</span></span><br><span class=\"line\"><span class=\"comment\"># print(main_page)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">f</span> <span class=\"string\">=</span> <span class=\"string\">open(r&quot;F:\\doc\\python\\1\\python</span> <span class=\"string\">go</span> <span class=\"string\">lraening\\爬虫\\菜价.csv&quot;,</span> <span class=\"string\">mode=&quot;w&quot;,</span> <span class=\"string\">encoding=&quot;utf-8&quot;)</span></span><br><span class=\"line\"><span class=\"string\">csvwriter</span> <span class=\"string\">=</span> <span class=\"string\">csv.writer(f)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 解析数据</span></span><br><span class=\"line\"><span class=\"comment\"># 把页面源代码交给B 进行处理，生成bs对象</span></span><br><span class=\"line\"><span class=\"string\">page</span> <span class=\"string\">=</span> <span class=\"string\">BeautifulSoup(main_page,</span> <span class=\"string\">&quot;html.parser&quot;</span><span class=\"string\">)#</span> <span class=\"string\">指定html解析器</span></span><br><span class=\"line\"><span class=\"comment\"># print(page)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 从bs对象中查找数据</span></span><br><span class=\"line\"><span class=\"comment\"># find（标签，属性=值）</span></span><br><span class=\"line\"><span class=\"comment\"># find_all（标签，属性=值）</span></span><br><span class=\"line\"><span class=\"string\">table</span> <span class=\"string\">=</span> <span class=\"string\">page.find(&quot;table&quot;,</span> <span class=\"string\">attrs=&#123;&quot;width&quot;:&quot;530&quot;&#125;)#</span> <span class=\"string\">class是python的关键字</span></span><br><span class=\"line\"><span class=\"comment\"># print(table)</span></span><br><span class=\"line\"><span class=\"string\">trs</span> <span class=\"string\">=</span> <span class=\"string\">table.find_all(&quot;tr&quot;)[1:]</span></span><br><span class=\"line\"><span class=\"attr\">for tr in trs:</span></span><br><span class=\"line\">    <span class=\"string\">ps</span> <span class=\"string\">=</span> <span class=\"string\">tr.find_all(&quot;p&quot;)</span></span><br><span class=\"line\">    <span class=\"string\">num</span> <span class=\"string\">=</span> <span class=\"string\">ps[0].text</span></span><br><span class=\"line\">    <span class=\"string\">name</span> <span class=\"string\">=</span> <span class=\"string\">ps[1].text</span>     <span class=\"comment\"># .text拿到被标签标记的内容</span></span><br><span class=\"line\">    <span class=\"string\">price</span> <span class=\"string\">=</span> <span class=\"string\">ps[2].text</span></span><br><span class=\"line\">    <span class=\"comment\"># print(num,name,price)</span></span><br><span class=\"line\">    <span class=\"string\">csvwriter.writerow([num,</span> <span class=\"string\">name,</span> <span class=\"string\">price])</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">print(&quot;over&quot;)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">f.close()</span></span><br><span class=\"line\"><span class=\"string\">```</span></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "教程"
            ]
        }
    ]
}